{% load i18n %}

<div class="list-group-item d-flex justify-content-between align-items-center">
    <div>
        <strong>#{{ order.pk }}</strong> |
        <span>{% translate "Table" %}: {{ order.table_number }}</span> | 
        <span class="badge {% if order.status == 'done' %}badge-success{% else %}badge-warning{% endif %} text-dark">
            {{ order.status }}
        </span> | 
        <span>{% translate "Total" %}: ${{ order.total_price }}</span>
    </div>

    <div class="btn-group">
        <!-- Additional Info Button -->
        <button class="btn btn-info btn-sm" data-toggle="modal" data-target="#orderInfoModal{{ order.pk }}">
            <i class="fas fa-info-circle"></i>
        </button>

        <!-- Edit Button -->
        <a href="{% url 'orders:edit' order.id %}" class="btn btn-primary btn-sm">
            <i class="fas fa-edit"></i>
        </a>

        <!-- Delete Button -->
        <button class="btn btn-danger btn-sm" data-toggle="modal" data-target="#deleteOrderModal{{ order.id }}">
            <i class="fas fa-trash"></i>
        </button>
    </div>
</div>

<!-- Additional Info Modal -->
<div class="modal fade" id="orderInfoModal{{ order.pk }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p><strong>{% translate "Order ID" %}:</strong> {{ order.id }}</p>
        <p><strong>{% translate "Table Number" %}:</strong> {{ order.table_number }}</p>
        <p><strong>{% translate "Status" %}:</strong> {{ order.status }}</p>
        <p><strong>{% translate "Total Cost" %}:</strong> ${{ order.total_cost }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="deleteOrderModal{{ order.pk }}" tabindex="-1" role="dialog" aria-labelledby="deleteOrderModalLabel{{ order.id }}" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="deleteOrderModalLabel{{ order.id }}">{% translate "Confirm Deletion" %}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>{% translate "Are you sure you want to delete this order?" %}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">{% translate "Cancel" %}</button>
        <a href="{% url 'orders:delete' order.id %}" class="btn btn-danger">{% translate "Confirm" %}</a>
      </div>
    </div>
  </div>
</div>
